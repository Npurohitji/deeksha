<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>UGC NET Study Hub</title>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { font-family: 'Inter', sans-serif; background-color: #f3f4f6; -webkit-tap-highlight-color: transparent; }
        .tab-active { border-bottom: 2px solid #2563eb; color: #2563eb; font-weight: 600; }
        .tab-inactive { color: #6b7280; }
        .tab-inactive:hover { color: #374151; }
        
        /* Custom scrollbar for modals */
        .custom-scroll::-webkit-scrollbar { width: 6px; }
        .custom-scroll::-webkit-scrollbar-track { background: #f1f1f1; }
        .custom-scroll::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 4px; }
        .custom-scroll::-webkit-scrollbar-thumb:hover { background: #94a3b8; }

        /* Hide scrollbar for Chrome, Safari and Opera in tabs */
        .no-scrollbar::-webkit-scrollbar {
            display: none;
        }
        /* Hide scrollbar for IE, Edge and Firefox */
        .no-scrollbar {
            -ms-overflow-style: none;  /* IE and Edge */
            scrollbar-width: none;  /* Firefox */
        }

        /* Animation for the welcome screen */
        @keyframes float {
            0% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
            100% { transform: translateY(0px); }
        }
        .animate-float {
            animation: float 3s ease-in-out infinite;
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // Inline Icons
        const Icon = ({ children, size = 24, className = "" }) => (
            <svg 
                xmlns="http://www.w3.org/2000/svg" 
                width={size} 
                height={size} 
                viewBox="0 0 24 24" 
                fill="none" 
                stroke="currentColor" 
                strokeWidth="2" 
                strokeLinecap="round" 
                strokeLinejoin="round" 
                className={className}
            >
                {children}
            </svg>
        );

        const BookOpen = (props) => (
            <Icon {...props}>
                <path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"/><path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"/>
            </Icon>
        );
        const Link = (props) => (
            <Icon {...props}>
                <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"/><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"/>
            </Icon>
        );
        const FileText = (props) => (
            <Icon {...props}>
                <path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"/><polyline points="14 2 14 8 20 8"/><line x1="16" y1="13" x2="8" y2="13"/><line x1="16" y1="17" x2="8" y2="17"/><line x1="10" y1="9" x2="8" y2="9"/>
            </Icon>
        );
        const Plus = (props) => (
            <Icon {...props}>
                <line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/>
            </Icon>
        );
        const Trash2 = (props) => (
            <Icon {...props}>
                <polyline points="3 6 5 6 21 6"/><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"/><line x1="10" y1="11" x2="10" y2="17"/><line x1="14" y1="11" x2="14" y2="17"/>
            </Icon>
        );
        const GraduationCap = (props) => (
            <Icon {...props}>
                <path d="M22 10v6M2 10l10-5 10 5-10 5z"/><path d="M6 12v5c3 0 6-2 6-2"/>
            </Icon>
        );
        const X = (props) => (
            <Icon {...props}>
                <line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/>
            </Icon>
        );
        const ExternalLink = (props) => (
            <Icon {...props}>
                <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"/><polyline points="15 3 21 3 21 9"/><line x1="10" y1="14" x2="21" y2="3"/>
            </Icon>
        );


        // Initial Data from User's Chat
        const initialData = [
            {
                id: 1,
                title: "Andrew Marvell - Study Links",
                unit: "Unit II: Poetry",
                type: "Flashcards",
                content: "https://gemini.google.com/share/769fe0ce9e81",
                notes: "Links for Marvell notes."
            },
            {
                id: 2,
                title: "Andrew Marvell - Quiz Set 1",
                unit: "Unit II: Poetry",
                type: "Quiz",
                content: "https://g.co/gemini/share/f75ca1177869",
                notes: ""
            },
            {
                id: 3,
                title: "Andrew Marvell - Quiz Set 2",
                unit: "Unit II: Poetry",
                type: "Quiz",
                content: "https://g.co/gemini/share/d43f45c514a1",
                notes: ""
            },
            {
                id: 4,
                title: "George Chapman Resources",
                unit: "Unit I: Drama",
                type: "Flashcards",
                content: "https://gemini.google.com/share/c49ea68851d6",
                notes: "Elizabethan playwright and translator."
            },
            {
                id: 5,
                title: "Arun Kolatkar: Jejuri Analysis",
                unit: "Unit II: Poetry",
                type: "Note",
                content: "",
                notes: "Author: Arun Kolatkar (1932â€“2004). Publication: 1976. Commonwealth Poetry Prize 1977. Cycle of 31 poems about a day trip to Jejuri temple town. Themes: Modern disillusionment vs Tradition."
            },
            {
                id: 6,
                title: "Literary Theory Chronology (Golden List)",
                unit: "Unit VIII: Literary Criticism",
                type: "Note",
                content: "",
                notes: "1916: Saussure (Linguistics)\n1917: Shklovsky (Art as Technique)\n1919: TS Eliot (Tradition)\n1941: Ransom (New Criticism)\n1949: Beauvoir (Second Sex)\n1966: Derrida (Deconstruction)\n1978: Said (Orientalism)\n1990: Butler (Gender Trouble)"
            },
            {
                id: 7,
                title: "E.M. Forster - Study Set 1",
                unit: "Unit III: Fiction",
                type: "Flashcards",
                content: "https://gemini.google.com/share/86c484d3851b",
                notes: "Novels and context."
            },
            {
                id: 8,
                title: "E.M. Forster - Study Set 2",
                unit: "Unit III: Fiction",
                type: "Quiz",
                content: "https://gemini.google.com/share/f73be35e3249",
                notes: "Critical works and themes."
            }
        ];

        const units = [
            "All",
            "Unit I: Drama",
            "Unit II: Poetry",
            "Unit III: Fiction",
            "Unit IV: Non-Fictional Prose",
            "Unit VIII: Literary Criticism"
        ];

        const App = () => {
            const [showWelcome, setShowWelcome] = useState(true);
            const [resources, setResources] = useState(initialData);
            const [activeTab, setActiveTab] = useState("All");
            const [isModalOpen, setIsModalOpen] = useState(false);
            const [viewNote, setViewNote] = useState(null); 
            
            // New Resource Form State
            const [newTitle, setNewTitle] = useState("");
            const [newUnit, setNewUnit] = useState("Unit I: Drama");
            const [newType, setNewType] = useState("Flashcards");
            const [newContent, setNewContent] = useState(""); 
            const [newNotes, setNewNotes] = useState("");

            const filteredResources = activeTab === "All" 
                ? resources 
                : resources.filter(r => r.unit === activeTab);

            const handleAdd = (e) => {
                e.preventDefault();
                const newResource = {
                    id: Date.now(),
                    title: newTitle || "Untitled Resource",
                    unit: newUnit,
                    type: newType,
                    content: newContent,
                    notes: newNotes
                };
                setResources([...resources, newResource]);
                setIsModalOpen(false);
                setNewTitle("");
                setNewContent("");
                setNewNotes("");
            };

            const handleDelete = (id) => {
                if(confirm("Are you sure you want to delete this resource?")) {
                    setResources(resources.filter(r => r.id !== id));
                }
            };

            const getIcon = (type) => {
                switch(type) {
                    case 'Quiz': return <BookOpen className="w-5 h-5 text-purple-600" />;
                    case 'Flashcards': return <GraduationCap className="w-5 h-5 text-blue-600" />;
                    case 'Note': return <FileText className="w-5 h-5 text-emerald-600" />;
                    default: return <Link className="w-5 h-5 text-gray-600" />;
                }
            };

            // Welcome Screen
            if (showWelcome) {
                return (
                    <div className="min-h-screen flex flex-col items-center justify-center bg-gradient-to-br from-indigo-50 via-purple-50 to-pink-50 p-6 text-center">
                        <div className="bg-white/80 backdrop-blur-sm p-10 rounded-[2rem] shadow-xl max-w-sm w-full border border-white/50 animate-float">
                            <div className="bg-gradient-to-tr from-blue-500 to-purple-600 w-24 h-24 rounded-full flex items-center justify-center mx-auto mb-6 shadow-lg text-white">
                                <GraduationCap size={48} />
                            </div>
                            <h1 className="text-3xl font-bold text-gray-800 mb-1">Welcome</h1>
                            <h2 className="text-2xl font-bold text-purple-600 mb-8">Deeksha ji &lt;3</h2>
                            
                            <button 
                                onClick={() => setShowWelcome(false)}
                                className="w-full bg-gradient-to-r from-blue-600 to-purple-600 text-white text-lg font-bold py-4 rounded-xl shadow-lg shadow-purple-200 hover:shadow-xl hover:scale-[1.02] active:scale-[0.98] transition-all duration-300"
                            >
                                Let's begin study
                            </button>
                        </div>
                    </div>
                );
            }

            // Main App
            return (
                <div className="min-h-screen pb-20 bg-[#f3f4f6]">
                    {/* Header */}
                    <header className="bg-white shadow-sm sticky top-0 z-10">
                        <div className="max-w-5xl mx-auto px-4 py-4 flex justify-between items-center">
                            <div className="flex items-center gap-2">
                                <div className="bg-blue-600 p-2 rounded-lg text-white">
                                    <BookOpen size={24} />
                                </div>
                                <h1 className="text-xl font-bold text-gray-800">UGC NET</h1>
                            </div>
                            <button 
                                onClick={() => setIsModalOpen(true)}
                                className="bg-blue-600 hover:bg-blue-700 active:bg-blue-800 text-white px-4 py-2 rounded-lg flex items-center gap-2 text-sm font-medium transition-colors"
                            >
                                <Plus size={18} /> Add
                            </button>
                        </div>
                        
                        {/* Mobile Scrollable Tabs */}
                        <div className="w-full bg-white border-b border-gray-100">
                            <div className="max-w-5xl mx-auto px-4 overflow-x-auto no-scrollbar">
                                <div className="flex space-x-6 min-w-max pb-1">
                                    {units.map(unit => (
                                        <button
                                            key={unit}
                                            onClick={() => setActiveTab(unit)}
                                            className={`py-3 text-sm whitespace-nowrap transition-colors ${
                                                activeTab === unit ? 'tab-active' : 'tab-inactive'
                                            }`}
                                        >
                                            {unit}
                                        </button>
                                    ))}
                                </div>
                            </div>
                        </div>
                    </header>

                    {/* Main Content */}
                    <main className="max-w-5xl mx-auto px-4 py-6">
                        {filteredResources.length === 0 ? (
                            <div className="text-center py-20 text-gray-500">
                                <p>No resources found in {activeTab}.</p>
                                <button onClick={() => setIsModalOpen(true)} className="text-blue-600 mt-2 hover:underline font-medium">Add one now</button>
                            </div>
                        ) : (
                            <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
                                {filteredResources.map(resource => (
                                    <div key={resource.id} className="bg-white rounded-xl shadow-sm border border-gray-100 p-5 active:scale-[0.99] transition-transform duration-200">
                                        <div className="flex justify-between items-start mb-3">
                                            <div className="flex items-center gap-2">
                                                <div className="p-2 bg-gray-50 rounded-md">
                                                    {getIcon(resource.type)}
                                                </div>
                                                <span className="text-[10px] font-bold uppercase tracking-wider text-gray-500 bg-gray-100 px-2 py-1 rounded">
                                                    {resource.type}
                                                </span>
                                            </div>
                                            <button 
                                                onClick={(e) => { e.stopPropagation(); handleDelete(resource.id); }} 
                                                className="p-2 -mr-2 text-gray-300 hover:text-red-500 transition-colors"
                                            >
                                                <Trash2 size={18} />
                                            </button>
                                        </div>
                                        
                                        <h3 className="font-bold text-gray-800 mb-2 leading-tight">{resource.title}</h3>
                                        <p className="text-xs text-gray-500 mb-5">{resource.unit}</p>

                                        {/* Actions */}
                                        {resource.type === 'Note' ? (
                                            <button 
                                                onClick={() => setViewNote(resource)}
                                                className="w-full mt-auto bg-emerald-50 text-emerald-700 py-3 rounded-lg text-sm font-medium hover:bg-emerald-100 active:bg-emerald-200 transition-colors border border-emerald-100 flex items-center justify-center gap-2"
                                            >
                                                <FileText size={18} /> Read Notes
                                            </button>
                                        ) : (
                                            <div className="flex gap-2">
                                                <a 
                                                    href={resource.content} 
                                                    target="_blank" 
                                                    className="flex-1 bg-blue-50 text-blue-700 py-3 rounded-lg text-sm font-medium hover:bg-blue-100 active:bg-blue-200 transition-colors border border-blue-100 flex items-center justify-center gap-2"
                                                >
                                                    <ExternalLink size={18} /> Open Link
                                                </a>
                                                {resource.notes && (
                                                    <button 
                                                        onClick={() => setViewNote(resource)}
                                                        className="px-4 bg-gray-50 text-gray-600 rounded-lg hover:bg-gray-100 border border-gray-200"
                                                    >
                                                        <FileText size={18} />
                                                    </button>
                                                )}
                                            </div>
                                        )}
                                    </div>
                                ))}
                            </div>
                        )}
                    </main>

                    {/* Add New Modal - Mobile Optimized */}
                    {isModalOpen && (
                        <div className="fixed inset-0 bg-black bg-opacity-60 z-50 flex items-center justify-center p-4 backdrop-blur-sm">
                            <div className="bg-white rounded-2xl w-full max-w-md max-h-[90vh] flex flex-col shadow-2xl">
                                <div className="flex justify-between items-center p-4 border-b">
                                    <h2 className="text-lg font-bold">Add New Resource</h2>
                                    <button onClick={() => setIsModalOpen(false)} className="p-2 text-gray-400 hover:text-gray-600 rounded-full hover:bg-gray-100"><X size={24} /></button>
                                </div>
                                <div className="p-5 overflow-y-auto custom-scroll">
                                    <form onSubmit={handleAdd} className="space-y-4">
                                        <div>
                                            <label className="block text-sm font-medium text-gray-700 mb-1">Title</label>
                                            <input 
                                                required
                                                type="text" 
                                                className="w-full p-3 text-base border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 outline-none transition-shadow"
                                                placeholder="e.g., Chaucer Flashcards"
                                                value={newTitle}
                                                onChange={(e) => setNewTitle(e.target.value)}
                                            />
                                        </div>
                                        <div className="grid grid-cols-1 gap-4">
                                            <div>
                                                <label className="block text-sm font-medium text-gray-700 mb-1">Unit</label>
                                                <select 
                                                    className="w-full p-3 text-base border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 outline-none bg-white"
                                                    value={newUnit}
                                                    onChange={(e) => setNewUnit(e.target.value)}
                                                >
                                                    {units.filter(u => u !== "All").map(u => <option key={u} value={u}>{u}</option>)}
                                                </select>
                                            </div>
                                            <div>
                                                <label className="block text-sm font-medium text-gray-700 mb-1">Type</label>
                                                <select 
                                                    className="w-full p-3 text-base border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 outline-none bg-white"
                                                    value={newType}
                                                    onChange={(e) => setNewType(e.target.value)}
                                                >
                                                    <option value="Flashcards">Flashcards</option>
                                                    <option value="Quiz">Quiz</option>
                                                    <option value="Note">Text Note</option>
                                                </select>
                                            </div>
                                        </div>
                                        {newType !== 'Note' && (
                                            <div>
                                                <label className="block text-sm font-medium text-gray-700 mb-1">Link URL</label>
                                                <input 
                                                    type="url" 
                                                    className="w-full p-3 text-base border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 outline-none"
                                                    placeholder="https://..."
                                                    value={newContent}
                                                    onChange={(e) => setNewContent(e.target.value)}
                                                />
                                            </div>
                                        )}
                                        <div>
                                            <label className="block text-sm font-medium text-gray-700 mb-1">
                                                {newType === 'Note' ? 'Content / Notes' : 'Description (Optional)'}
                                            </label>
                                            <textarea 
                                                className="w-full p-3 text-base border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 outline-none h-32 resize-none"
                                                placeholder={newType === 'Note' ? "Paste your text notes here..." : "Brief description..."}
                                                value={newNotes}
                                                onChange={(e) => setNewNotes(e.target.value)}
                                            ></textarea>
                                        </div>
                                        <button type="submit" className="w-full bg-blue-600 text-white py-3.5 rounded-xl font-bold hover:bg-blue-700 active:bg-blue-800 transition-colors shadow-lg shadow-blue-200">
                                            Add to Library
                                        </button>
                                    </form>
                                </div>
                            </div>
                        </div>
                    )}

                    {/* View Note Modal - Mobile Optimized */}
                    {viewNote && (
                        <div className="fixed inset-0 bg-black bg-opacity-60 z-50 flex items-center justify-center p-4 backdrop-blur-sm">
                            <div className="bg-white rounded-2xl w-full max-w-2xl max-h-[90vh] flex flex-col shadow-2xl">
                                <div className="flex justify-between items-start p-5 border-b bg-gray-50 rounded-t-2xl">
                                    <div className="pr-4">
                                        <h2 className="text-lg font-bold text-gray-900 leading-tight">{viewNote.title}</h2>
                                        <span className="text-xs text-gray-500 font-medium mt-1 block">{viewNote.unit}</span>
                                    </div>
                                    <button onClick={() => setViewNote(null)} className="p-2 -mr-2 text-gray-400 hover:text-gray-600 rounded-full hover:bg-gray-200"><X size={24} /></button>
                                </div>
                                <div className="p-6 overflow-y-auto custom-scroll">
                                    <div className="prose prose-sm max-w-none text-gray-700 whitespace-pre-wrap leading-relaxed">
                                        {viewNote.notes || "No text content available."}
                                    </div>
                                    {viewNote.content && (
                                         <a 
                                            href={viewNote.content} 
                                            target="_blank" 
                                            className="mt-6 block w-full bg-gray-100 text-gray-700 py-3 rounded-xl text-center font-semibold hover:bg-gray-200 transition-colors"
                                        >
                                            Open Original Link
                                        </a>
                                    )}
                                </div>
                            </div>
                        </div>
                    )}

                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>